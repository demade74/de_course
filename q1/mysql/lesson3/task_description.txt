Задание я оформил двумя способами:
1.	Модель vk_like_multiple_tables - создал для каждой сущности из задания свою таблицу с лайками, то есть таблицу like_post (user_id, post_id), 
	like_media (user_id, media_id), like_user (from_user_id, to_user_id).
	Когда пользователь ставит лайк посту - записываем в like_post информацию о пользователе и посте, которому поставлен лайк.
	Для соблюдения условия, что пользователь может поставить только один лайк одной сущности, по два поля в трех таблицах представлены составным первичным ключом.

2.	Модель vk_like_extra - создал одну таблицу likes (n:m), в которой разметил поля: from_user_id, post_id, media_id, to_user_id.
	from_user_id NOT NULL, остальные поля могут содержать NULL. Таким образом много пользователей могут ставить лайки всем доступным сущностям.
	Чтобы соблюсти условие, что один пользователь может лайкнуть одну сущность один раз, добавлены ограничения на уникальность записей по парам полей -
	пользователь, поставивший лайк, и сущность, которой ставят лайк. Например, индекс user_media проверяет на уникальность пару from_user_id, media_id.
	Таким образом, мы не допускаем повторных лайков. Проверку работы индексов осуществил запросами:
	
	USE vk_extra;

	-- здесь добавил пользователя, тип медиа - картинка, одну картинку и пост, все связано между собой
	INSERT INTO user (email, phone, password_hash) VALUES ('dem@mail.com', 1234, 'jnrf03u4f34f34');
	INSERT INTO media_type (name) VALUES ('picture');
	INSERT INTO media (id, media_type_id, user_id) VALUES (1, 1, 1);
	INSERT INTO post (id, user_id, text, media_id) VALUES (1, 1, 'blabla', 1);

	-- пользователь лайкнул пост, потом картинку, затем сам себя
	INSERT INTO likes (from_user_id, post_id) VALUES (1, 1);
	INSERT INTO likes (from_user_id, media_id) VALUES (1, 1);
	INSERT INTO likes (from_user_id, to_user_id) VALUES (1, 1);

	-- проверка, что повторный лайк поста не срабатывает, получаем сообщение
	-- 12:26:29	INSERT INTO likes (from_user_id, post_id) VALUES (1, 1)	Error Code: 1062. Duplicate entry '1-1' for key 'likes.user_post'	0.015 sec
	-- получается, работает
	INSERT INTO likes (from_user_id, post_id) VALUES (1, 1);
	
3.	Размышления: так как лайков на одну сущность может быть не одна тысяча, то со временем таблица/таблицы будут содержать миллионы записей, что наверняка
	скажется на производительности. В качестве альтернативы в таблицaх profile, post, media завел счетчики like_count для каждой записи.
	Как я думаю, в будущем можно с помощью других инструментов БД переодически пересчитывать эти счетчики из основной таблицы лайков, а саму таблицу очищать
	или переводить в архив
	
	
	